### 1.3.1 앱 아키텍처 유형의 분류 체계

본 연구는 RQ2의 핵심 독립변수인 '앱 아키텍처 유형'을 정의하기 위해, Android Developer Guide에서 제시하는 카메라 기능 구현 방법론을 이론적 토대로 활용한다. Android 공식 개발 문서는 카메라 기능을 구현하는 두 가지 주요 접근법을 제시한다: 위임 방식(Delegation Approach)과 직접 제어 방식(Direct Control Approach)이다. 위임 방식은 Intent를 통해 기존 카메라 앱에 촬영 작업을 위임하는 것이며, 직접 제어 방식은 앱 내에서 카메라 API를 직접 호출하여 하드웨어를 제어하는 것이다.

본 연구에서는 이러한 이분법적 분류를 포렌식 분석의 관점에서 더욱 세분화하여, 카메라 하드웨어 접근 방식과 API 사용 복잡성이라는 객관적으로 측정 가능한 기준에 따라 4가지 상호 배타적인 아키텍처 유형을 정의한다. 이러한 세분화의 이론적 근거는 각 구현 방식이 Android 시스템과 상이한 상호작용 패턴을 보이며, 결과적으로 서로 다른 시스템 로그 생성 패턴을 유발할 것이라는 예상에 기반한다.

S1 (인텐트 기반 위임 방식)은 MediaStore.ACTION_IMAGE_CAPTURE 인텐트를 사용하여 촬영 기능을 시스템의 기본 카메라 앱에 완전히 위임하는 구현 방식이다. 이 방식의 핵심 특징은 앱 자체에서 카메라 하드웨어에 직접 접근하지 않으며, CAMERA 권한조차 필요로 하지 않는다는 점이다. Android 공식 문서에서는 이를 "자체 카메라 코드를 작성할 필요가 없는" 방식으로 설명하며, 구현 복잡성이 가장 낮다고 명시한다.

S2 (고수준 API 직접 제어)는 CameraX Jetpack 라이브러리를 사용하여 앱 내에서 카메라 기능을 직접 구현하는 방식이다. CameraX는 Android에서 제공하는 고수준 카메라 라이브러리로, "일관되고 사용하기 쉬운 API"를 통해 기기별 호환성 문제를 해결하고 자동 최적화 기능을 제공한다. 이 방식은 CAMERA 권한을 필수로 요구하며, 직접적인 하드웨어 제어를 수행하지만 복잡한 구성 관리는 라이브러리가 담당한다.

S3 (저수준 API 직접 제어)는 Camera2 API를 직접 사용하여 카메라 하드웨어를 세밀하게 제어하는 방식이다. Android 공식 문서에서는 Camera2를 "복잡한 사용 사례를 위한 자세한 제어를 제공하지만 기기별 구성을 관리해야 하는" API로 설명한다. 이 방식은 CAMERA 권한 외에도 다수의 세부 권한을 요구하며, 개발자가 CameraCaptureSession, CaptureRequest 등의 저수준 컴포넌트를 직접 관리해야 한다.

S4 (저수준 API + 비표준 구현)는 Camera2 API의 저수준 제어 기능을 활용하되, 표준적인 시스템 동작을 의도적으로 우회하거나 수정하는 특수한 구현 방식이다. Android 공식 문서에서 제시하는 CaptureRequest의 "캡처 하드웨어, 처리 파이프라인, 제어 알고리즘에 대한 모든 구성"을 제어할 수 있는 능력을 활용하여, 예를 들어 셔터음을 우회하거나 비표준적인 이미지 처리를 수행하는 앱들이 이 유형에 해당한다.

이러한 4단계 분류 체계는 각 아키텍처가 Android 시스템의 서로 다른 계층과 상호작용함으로써, 동일한 카메라 촬영 행위에 대해서도 차별적인 시스템 로그 생성 패턴을 보일 것이라는 이론적 근거를 제공한다. 특히 S1의 경우 앱 간 Intent 통신 로그가, S2-S4의 경우 카메라 서비스와의 직접적인 상호작용 로그가 각각 다른 패턴으로 기록될 것으로 예상된다.

[REF: Android Developers. (2024). Camera Intents Guide; Android Developers. (2024). CameraX Architecture Guide; Android Developers. (2024). Camera2 API Reference; 안원석 외. (2025). 비루팅 환경에서 ADB를 활용한 안드로이드 카메라 및 오디오 행위 탐지 연구]

---

### 1.3.2 휘발성 조건의 이론적 근거

본 연구는 RQ3의 핵심 독립변수인 '로그 휘발성 조건'을 정의하기 위해, 2장 2.1.3절의 로그 휘발성 이론을 이론적 배경으로 활용한다. Android 시스템 로그의 휘발성은 디지털 포렌식 분야에서 오랫동안 연구되어 온 핵심 주제로, 로그 기반 증거 수집의 실무적 한계를 결정하는 중요한 요인이다. 선행 연구들은 Android 시스템 로그가 대부분 메모리 기반의 순환 버퍼(Circular Buffer) 방식으로 저장되어 관리되며, 이로 인해 시간 경과, 사용량 누적, 시스템 이벤트 등의 다양한 요인에 의해 소실될 수 있음을 실증적으로 보여주었다.

본 연구에서는 실무 현장에서 로그 기반 포렌식 분석이 직면하는 현실적 제약 상황들을 체계적으로 반영하기 위해, 휘발성을 유발하는 시간적, 사용량적, 시스템적 요인을 4단계의 독립적인 조건으로 조작화한다. 이러한 조작화의 목적은 각 요인이 로그 보존에 미치는 개별적 영향을 정량적으로 측정하고, 실무진에게 로그 수집 시점에 따른 탐지 성능의 변화를 과학적으로 예측할 수 있는 근거를 제공하는 것이다.

V0 (기준 조건 - 즉시 수집)는 다른 휘발성 요인의 간섭을 최소화한 이상적인 수집 조건을 의미한다. 카메라 행위 완료 직후 10초 이내에 로그를 수집함으로써, 시스템이 생성한 로그가 아직 다른 활동에 의해 덮어쓰이지 않고 메모리 버퍼에 온전히 보존된 상태에서의 기준 성능(Baseline Performance)을 측정한다. 이 조건은 다른 모든 휘발성 조건과의 비교 기준점 역할을 하며, 각 로그의 이론적 최대 탐지 성능을 나타낸다.

V-Time (시간 기반 휘발성 - 24시간 후 수집)는 자연적인 시간 경과가 로그 보존에 미치는 영향을 측정하기 위한 조건이다. Android 시스템의 다양한 백그라운드 프로세스와 시스템 서비스들이 24시간 동안 지속적으로 생성하는 로그들이 기존 로그를 순환 버퍼에서 밀어내는 효과를 정량화한다. 특히 UsageStats와 같은 일부 로그는 명시적인 보존 정책(예: 24시간 유지)을 가지고 있어, 이러한 자연적 소실 과정을 검증하는 데 중요한 의미를 가진다.

V-Usage (사용량 기반 휘발성 - 간섭 후 수집)는 사용자의 추가적인 기기 사용이 로그 보존에 미치는 영향을 체계적으로 측정하는 조건이다. 실무 상황에서는 카메라 촬영 후 사용자가 다른 앱을 사용하거나 미디어 파일을 처리하는 등의 활동을 지속하므로, 이러한 간섭 활동이 순환 버퍼의 덮어쓰기를 가속화할 수 있다. 본 연구에서는 브라우저 사용, 갤러리 접근, 미디어 재생, 메시지 송수신 등의 일반적인 스마트폰 사용 패턴을 표준화된 시나리오로 설계하여, 사용량 기반 휘발성의 정량적 측정을 가능하게 한다.

V-Event (이벤트 기반 휘발성 - 재부팅 후 수집)는 시스템 재시작이라는 극한적 이벤트가 메모리 기반 로그에 미치는 완전 소실 효과를 검증하는 조건이다. 대부분의 Android 시스템 로그는 메모리에서 관리되므로 재부팅 시 완전히 초기화되지만, 일부 로그는 비휘발성 저장소에 기록되어 재부팅 후에도 보존될 수 있다. 이 조건을 통해 각 로그의 휘발성/비휘발성 특성을 명확히 구분하고, 극한 상황에서도 활용 가능한 로그를 식별할 수 있다.

이러한 4단계 휘발성 조건 체계는 실제 포렌식 현장에서 발생할 수 있는 다양한 시나리오를 과학적으로 재현하며, 각 로그별로 서로 다른 휘발성 특성이 탐지 성능에 미치는 차별적 영향을 정량적으로 측정하는 데 사용된다. 이를 통해 수사기관이나 보안 담당자들이 사건 발생 시점과 증거 수집 시점 간의 시간 차이를 고려하여, 각 상황에서 가장 효과적인 로그를 우선적으로 분석할 수 있는 실무적 가이드라인을 제공하고자 한다.

[REF: 박은후. (2020). 데이터 획득방법에 따른 안드로이드 비휘발성 로그의 포렌식 분석 프로세스 설계 및 적용 방안. 국민대학교; 조재형. (2016). 안드로이드 스마트폰 시스템 로그 분석 연구. 국민대학교; Android Open Source Project. (2024). Logcat and Debug Documentation]



**Android 개발자 공식 문서에서는 카메라 기능을 구현하는 주요 방법으로 다음 두 가지를 핵심적으로 제시합니다.**

* **카메라 인텐트 사용 (Using Camera Intents):** **앱이 카메라를 직접 제어할 필요 없이, 단순히 사진이나 동영상을 찍어 결과를 반환받기만 하면 될 때 사용하는 가장 간단한 방법입니다. 이는 작성하신 **S2(인텐트 기반 위임 방식)**와 정확히 일치합니다. 문서는** **MediaStore.ACTION_IMAGE_CAPTURE** **인텐트를 사용하는 것이 대표적인 예라고 명시합니다.**
* **CameraX 또는 Camera2 API 사용:** **앱 내에서 카메라 미리보기를 직접 제어하고, 복잡한 사용자 경험(UX)을 구축하며, 이미지 분석 등 고급 기능을 구현해야 할 때 사용하는 방법입니다.**

  * **CameraX**는 대부분의 기기에서 일관된 동작을 보장하는 상위 수준의 Jetpack 라이브러리입니다.
  * **Camera2**는 더 상세하고 복잡한 제어가 가능한 하위 수준의 프레임워크입니다.

**이 API를 직접 사용하는 방식이 바로 **S1(직접 API 호출 방식)**과 **S3(앱 내장 구현 방식)**의 기술적 근간이 됩니다. 두 방식의 차이는 API 자체가 아니라, 그 API를 사용하는 앱의 '주목적'과 '구현 형태'에 있습니다.**

* **S1**은 '기본 카메라 앱'처럼 카메라 기능이 앱의 **핵심 정체성**인 경우를 대표합니다.
* **S3**는 '소셜미디어, 메신저 앱'처럼 다른 목적을 가진 앱이 **부가 기능**으로 카메라 UI를 내부에 직접 구현한 경우를 대표합니다. 포렌식 관점에서 이 둘을 구분하는 것은 로그 생성의 맥락을 이해하는 데 매우 중요하므로, 이는 타당한 세분화입니다.

**마지막으로 **S4(특수 목적 구현 방식)**는 공식 문서에서 직접적으로 분류하지는 않지만, S1/S3와 동일하게 Camera2/CameraX API를 사용하면서도** **의도적으로 시스템과의 표준적인 상호작용(예: 셔터음, 로그 생성)을 최소화하려는 '구현 의도'의 차이**를 포착한 것입니다. 포렌식 분석에서는 이러한 '안티포렌식' 또는 '비표준적' 행태를 탐지하는 것이 매우 중요하므로, S4를 별도 카테고리로 설정한 것은 연구의 변별력과 실무적 가치를 크게 높이는 핵심적인 분류입니다.

**따라서 4가지 분류는 기술적 사실에 근거하면서도, 연구 목적에 맞게 매우 논리적이고 정교하게 설계되었습니다.**

---

### 2. 분류 기준의 근거 (공식 문서 및 선행 연구)

**각 유형을 나누는** **핵심적인 단일 기준은 "앱이 카메라 하드웨어 및 시스템 서비스와 상호작용하는 기술적 방식과 패턴"** **입니다. 이를 기준으로 각 분류의 근거를 명확히 하면 다음과 같습니다.**

| **유형** | **분류의 정확한 기준**                                                                                                                                                       | **근거 (Android 공식 문서)**                                                                                                                          | **근거 (선행 연구)**                                                                                                                                                                        |
| -------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **S1**   | **CameraX/Camera2** **API를 앱의** **핵심 기능**으로 직접 호출하며, 시스템과 표준적인 방식으로 상호작용                                                          | **Camera API 가이드:** **"For full control over the camera UI... use the CameraX Jetpack library..."**                                          | **안원석 외(2025):** **'기본 카메라 앱'의 행위를 분석하며** **media.camera** **서비스와의 직접적인 상호작용 패턴을 실증함.**                                              |
| **S2**   | **CameraX/Camera2** **API를 직접 호출하지 않고,** **MediaStore.ACTION_IMAGE_CAPTURE** **인텐트를 통해** **시스템 기본 카메라 앱에 기능 실행을 위임** | **Camera Intents 가이드:** **"The Android Camera app returns... the requested bitmap in the data field of the return Intent..."**               | **권혁철(2024):** **다양한 앱 유형별 로그 패턴 차이를 분석하며, 인텐트를 통한 앱 간 상호작용이 독특한 로그 흔적(예:** **activity** **로그의 스택 변화)을 남김을 시사함.** |
| **S3**   | **CameraX/Camera2** **API를 앱의** **부가 기능**으로 직접 호출하며, 앱 내에 독자적인 UI/UX를 구현                                                                | **(S1과 동일한 기술 사용) 하지만** **앱 아키텍처 가이드**에 따라 독립적인 Activity나 Fragment 내에서 카메라 세션을 관리.                        | **안원석 외(2025):** **'메신저 앱'의 내장 카메라 기능이 기본 카메라와는 다른 서비스 접근 패턴을 보일 수 있음을 실증적으로 보여줌.**                                                   |
| **S4**   | **CameraX/Camera2** **API를 사용하지만,** **의도적으로** **표준적인 시스템 콜(예: 셔터음)을 우회하거나 비표준적인 방식으로 하드웨어에 접근**               | **Camera2 API 문서:** **CameraCaptureSession.CaptureCallback** **등 저수준 콜백을 사용하여 표준적인 절차를 건너뛰는 고급 기법들을 설명.** | **(직접적인 선행 연구는 부족) 이는 본 연구가 개척하는 영역으로, S4의 존재 자체가 '기존 연구에서 다루지 않은 엣지 케이스를 탐구한다'는** **연구의 독창성**을 뒷받침하는 근거가 됨.     |

### **앱 아키텍처 유형별 분류 근거: 공식 문서 출처 및 내용 분석**

**각 유형을 나누는 핵심 기준은** **"앱이 카메라 기능을 구현하기 위해 시스템의 어떤 자원을, 어떤 방식으로 호출하는가"** **입니다.**

| **분류 유형**                                             | **핵심 기술 / 방식**                          | **공식 문서 출처 (URL)**                                                                                                                                                                                                                                                                                                                                 | **문서의 핵심 내용 및 근거**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| --------------------------------------------------------------- | --------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **S2** **``** **(인텐트 기반 위임)**   | **카메라 인텐트 (Camera Intents)**            | [사진 찍기 (기본적인 카메라 앱)](https://www.google.com/url?sa=E&q=https%3A%2F%2Fdeveloper.android.com%2Ftraining%2Fcamera%2Fcamera-intents%3Fhl%3Dko)                                                                                                                                                                                                            | **이 문서는 앱이 직접 카메라를 제어할 필요 없이, 기존에 설치된 카메라 앱에 사진 촬영을 '요청'하는 방법을 설명합니다. 이것이 바로 **S2(위임 방식)**의 정의와 정확히 일치합니다.**`<br>`**`<br>`**> **문서 내용:** **"Android에서는** **Intent**를 사용하여 카메라 앱에 사진을 찍어달라고 요청할 수 있습니다... 이 방법의 장점은 자체 카메라 코드를 작성할 필요가 없다는 것입니다. 대신, **다른 카메라 앱에 작업을 위임**하여 결과 이미지를 앱으로 다시 받게 됩니다."**`<br>`**`<br>` **•** **근거:** **문서에서** **MediaStore.ACTION_IMAGE_CAPTURE** **인텐트 사용법을 명시하며, '위임(delegate)'이라는 표현을 직접 사용합니다. 이는 S2 분류의 가장 강력하고 직접적인 이론적 근거입니다.**                                                                                                                                                                                                                                |
| **S1 & S3** **``** **(직접 API 호출)** | **CameraX / Camera2 API**                     | [CameraX 개요](https://www.google.com/url?sa=E&q=https%3A%2F%2Fdeveloper.android.com%2Ftraining%2Fcamerax%3Fhl%3Dko) **``**`` [Camera2](https://www.google.com/url?sa=E&q=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fandroid%2Fhardware%2Fcamera2%2Fpackage-summary%3Fhl%3Dko)                                                            | **이 문서들은 인텐트 방식과 달리, 앱 내에서 직접 카메라 하드웨어를 제어하고 맞춤형 카메라 UI를 만들기 위한 API를 소개합니다. 이것이 **S1(직접 API)**과 **S3(앱 내장)**의 공통적인 기술 기반입니다.**`<br>`**`<br>`**> **CameraX 문서 내용:** **"CameraX는 앱에 카메라 기능을 추가하는 데 사용할 수 있는 Jetpack 라이브러리입니다... 기기별 호환성 문제를 해결하고** **앱 내에서 일관되고 사용하기 쉬운 API**를 제공합니다."**`<br>`**> **Camera2 문서 내용:** **"이 패키지는 Android 기기의 카메라 하위 시스템을** **직접 제어**하기 위한 인터페이스를 제공합니다."**`<br>`**`<br>` **•** **근거:** **'직접 제어(direct control)', '앱 내에서(in-app)' 등의 표현은 S1과 S3가 시스템에 기능을 위임하는 S2와 근본적으로 다름을 명확히 보여줍니다. S1과 S3의 구분은 이 기술을 '앱의 주목적(S1)'으로 쓰느냐, '부가 기능(S3)'으로 쓰느냐는** **포렌식 관점의 재분류**이므로 타당합니다.                    |
| **S4** **``** **(특수 목적 구현)**     | **Camera2 API의 저수준(Low-level) 제어 기능** | [CameraCaptureSession](https://www.google.com/url?sa=E&q=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fandroid%2Fhardware%2Fcamera2%2FCameraCaptureSession%3Fhl%3Dko) **``**`` [CaptureRequest](https://www.google.com/url?sa=E&q=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fandroid%2Fhardware%2Fcamera2%2FCaptureRequest%3Fhl%3Dko) | **공식 문서에 '무음 카메라 만드는 법'은 없습니다. 하지만** **S4의 이론적 근거는 Camera2 API가 개발자에게 얼마나 강력하고 세밀한 제어 권한을 주는가**에 있습니다. **CameraCaptureSession**과 **CaptureRequest** **문서는 개발자가 이미지 캡처 파이프라인의 모든 단계를 직접 설정하고 제어할 수 있음을 보여줍니다.**`<br>`**`<br>`**> **문서 내용:** **"**CaptureRequest**는 단일 캡처에 대한 설정과 출력 버퍼를 캡슐화합니다... 요청에는 캡처 하드웨어(센서, 렌즈, 플래시), 처리 파이프라인, 제어 알고리즘에 대한** **모든 구성이 포함**됩니다."**`<br>`**`<br>` **•** **근거:** **S4 유형의 앱들은 이 저수준 제어 기능을 활용하여, 시스템이 기본적으로 수행하는 표준 절차(예:** **MediaActionSound**를 통한 셔터음 재생)를 의도적으로 건너뛰거나 우회하는 로직을 구현합니다. 즉, 공식 문서는 S4를 가능하게 하는 **'기술적 도구'의 존재**를 명확히 입증하며, 이는 S4 분류의 충분한 이론적 근거가 됩니다. |
