# 안드로이드 카메라 개발 가이드

## 개요

카메라는 안드로이드 애플리케이션에서 다양한 사용 사례를 지원합니다:

* 소셜 미디어와 공유할 동영상 및 이미지 캡처
* 문서 및 QR 코드 스캔
* 기타 유틸리티 기능

 **출처** : [Android에서 카메라 시작하기 - Android Developers](https://developer.android.com/media/camera/get-started-with-camera?hl=ko)

## 카메라 애플리케이션 개발 방법

### 1. CameraX API 사용 (권장)

카메라 기반 애플리케이션을 빌드하거나 기존 애플리케이션에 카메라를 통합할 때는 **CameraX API**를 사용하는 것이 권장됩니다. CameraX는 카메라 사용을 위한 간소화된 API입니다.

 **특징** :

* 안정적이고 강력한 플랫폼 제공
* 새로운 카메라 기능 활용 가능
* CameraX Codelab을 통한 예시 기반 학습 가능

### 2. Camera1에서의 이전

지원 중단된 카메라 클래스 ('Camera1')를 사용하는 경우 CameraX로 이전하는 것이 권장됩니다.

## 카메라 인텐트 사용

기본적인 카메라 작업(사진 촬영, 동영상 녹화)의 경우 카메라 라이브러리와 통합하지 않고 **Intent**를 사용할 수 있습니다.

 **출처** : [카메라 인텐트 - Android Developers](https://developer.android.com/media/camera/camera-intents?hl=ko)

### 사진 촬영 Intent

#### Kotlin

```kotlin
val REQUEST_IMAGE_CAPTURE = 1

private fun dispatchTakePictureIntent() {
    val takePictureIntent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)
    try {
        startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE)
    } catch (e: ActivityNotFoundException) {
        // 사용자에게 오류 상태 표시
    }
}
```

#### Java

```java
static final int REQUEST_IMAGE_CAPTURE = 1;

private void dispatchTakePictureIntent() {
    Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
    try {
        startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);
    } catch (ActivityNotFoundException e) {
        // 사용자에게 오류 상태 표시
    }
}
```

### 동영상 녹화 Intent

#### Kotlin

```kotlin
val REQUEST_VIDEO_CAPTURE = 1

private fun dispatchTakeVideoIntent() {
    Intent(MediaStore.ACTION_VIDEO_CAPTURE).also { takeVideoIntent ->
        takeVideoIntent.resolveActivity(packageManager)?.also {
            startActivityForResult(takeVideoIntent, REQUEST_VIDEO_CAPTURE)
        } ?: run {
            // 사용자에게 오류 상태 표시
        }
    }
}
```

#### Java

```java
static final int REQUEST_VIDEO_CAPTURE = 1;

private void dispatchTakeVideoIntent() {
    Intent takeVideoIntent = new Intent(MediaStore.ACTION_VIDEO_CAPTURE);
    if (takeVideoIntent.resolveActivity(getPackageManager()) != null) {
        startActivityForResult(takeVideoIntent, REQUEST_VIDEO_CAPTURE);
    } else {
        // 사용자에게 오류 상태 표시
    }
}
```

### 주의사항

`startActivityForResult()` 메서드는 `resolveActivity()`를 호출하는 조건에 의해 보호되어야 합니다. 이 함수는 Intent를 처리할 수 있는 첫 번째 활동 구성요소를 반환하며, 앱의 비정상 종료를 방지합니다.

## 고급 카메라 기능

### MLKit 통합

CameraX는 머신러닝 툴킷 라이브러리인 MLKit와의 직접 통합을 지원합니다.

 **활용 예시** :

* QR 스캐너
* 문서 스캐너

### 카메라 확장 프로그램

카메라 확장 프로그램을 통해 특수한 기기 기능에 액세스할 수 있습니다:

* 야간 모드 이미지 캡처
* 빛망울 효과 (세로 모드)

 **지원 라이브러리** : CameraX와 Camera2 모두 지원

## 권장사항

* **기본 카메라 작업** : Intent 사용
* **복잡한 작업** : Camera2 및 CameraX 라이브러리 사용 권장
* **새로운 프로젝트** : CameraX API 사용 권장
* **기존 Camera1 사용 앱** : CameraX로 이전 권장

## 출처 및 참고 자료

1. [Android에서 카메라 시작하기 - Android Developers](https://developer.android.com/media/camera/get-started-with-camera?hl=ko)
2. [카메라 인텐트 - Android Developers](https://developer.android.com/media/camera/camera-intents?hl=ko)
3. [ML Kit 라이브러리](https://developers.google.com/ml-kit?hl=ko)

---

 **작성일** : 2025년 9월 27일

 **근거** : Android Developers 공식 문서 기반으로 작성
